{"version":3,"file":"dynamic.ts_my_libs_qr_preview_ts.66e4fb29b6e196dc11a3.js","mappings":"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","sources":["webpack:///./js/libs/datamatrix.js","webpack:///./ts/my_libs/qr_preview.ts","webpack:///./styles/less/libs/modal_qr_preview.less?258d"],"sourcesContent":["/**\n\thttps://github.com/datalog/datamatrix-svg\n\tunder MIT license\n\t# datamatrix.js has no dependencies\n\tCopyright (c) 2020 Constantine\n*/\n\n'use strict';\n\nfunction DATAMatrix( Q ) {\n\n\tvar\n\t M = []\n\t,xx = 0\n\t,yy = 0\n\n\t,bit = function( x, y ) {\n\n\t\t\tM[ y ] = M[ y ] || [],\n\t\t\tM[ y ][ x ] = 1;\n\t\t}\n\n\t,toAscii = function( t ) {\n\n\t\tvar\n\t\tr = [],\n\t\tl = t.length;\n\n\t\tfor( var i = 0; i < l; i++ ) {\n\n\t\t\tvar\n\t\t\tc = t.charCodeAt( i ),\n\t\t\tc1 = ( i + 1 < l ) ? t.charCodeAt( i + 1 ) : 0;\n\n\t\t\tif( c > 47 && c < 58 && c1 > 47 && c1 < 58 ) { /* 2 digits */\n\n\t\t\t\tr.push( ( c - 48 ) * 10 + c1 + 82 ), /* - 48 + 130 = 82 */\n\t\t\t\ti++;\n\n\t\t\t} else if( c > 127 ) { /* extended char */\n\n\t\t\t\tr.push( 235 ),\n\t\t\t\tr.push( ( c - 127 ) & 255 );\n\n\t\t\t} else r.push( c + 1 ); /* char */\n\t\t}\n\n\t\treturn r;\n\t}\n\n\t,toBase = function( t ) {\n\n\t\tvar\n\t\tr = [ 231 ], /* switch to Base 256 */\n\t\tl = t.length;\n\n\t\tif( 250 < l ) {\n\n\t\t\tr.push( 37 + ( l / 250 | 0 ) & 255 ); /* length high byte (in 255 state algo) */\n\t\t}\n\n\t\t\tr.push( l % 250 + 149 * ( r.length + 1 ) % 255 + 1 & 255 ); /* length low byte (in 255 state algo) */\n\n\t\tfor( var i = 0; i < l; i++ ) {\n\n\t\t\tr.push( t.charCodeAt( i ) + 149 * ( r.length + 1 ) % 255 + 1 & 255 ); /* data in 255 state algo */\n\t\t}\n\n\t\treturn r;\n\t}\n\n\t,toEdifact = function( t ) {\n\n\t\tvar\n\t\tn = t.length,\n\t\tl = ( n + 1 ) & -4, cw = 0, ch,\n\t\tr = ( l > 0 ) ? [ 240 ] : []; /* switch to Edifact */\n\n\t\tfor( var i = 0; i < l; i++ ) {\n\n\t\t\tif( i < l - 1 ) {\n\n\t\t\t\t/* encode char */\n\t\t\t\tch = t.charCodeAt( i );\n\t\t\t\tif( ch < 32 || ch > 94 ) return []; /* not in set */\n\n\t\t\t} else ch = 31; /* return to ASCII */\n\n\t\t\tcw = cw * 64 + ( ch & 63 );\n\n\t\t\tif(( i & 3 ) == 3 ) {\n\n\t\t\t\t/* 4 data in 3 words */\n\t\t\t\tr.push( cw >> 16 ), \n\t\t\t\tr.push( cw >> 8& 255 ),\n\t\t\t\tr.push( cw & 255 ),\n\t\t\t\tcw = 0;\n\t\t\t}\n\t\t};\n\n\t\treturn l > n ? r : r.concat( toAscii( t.substr( l == 0 ? 0 : l - 1 ) ) ); /* last chars*/\n\t}\n\n\t,toText = function( t, s ) {\n\n\t\tvar\n\t\ti, j,\n\t\tcc = 0,\n\t\tcw = 0,\n\t\tl = t.length,\n\t\tr = [ s[ 0 ] ], /* start switch */\n\t\tpush = function( v ) { \n\n\t\t\t/* pack 3 chars in 2 codes */\n\t\t\tcw = 40 * cw + v;\n\n\t\t\t/* add code */\n\t\t\tif( cc++ == 2 ) { \n\n\t\t\t\tr.push( ++cw >> 8 ),\n\t\t\t\tr.push( cw & 255 ),\n\t\t\t\tcc = cw = 0;\n\t\t\t}\n\t\t};\n\n\t\tfor( i = 0; i < l; i++ ) {\n\n\t\t\t/* last char in ASCII is shorter */\n\t\t\tif( 0 == cc && i == l - 1 ) break;\n\n\t\t\tvar\n\t\t\tch = t.charCodeAt(i);\n\n\t\t\tif( ch > 127 && 238 != r[ 0 ] ) { /* extended char */\n\n\t\t\t\tpush( 1 ),\n\t\t\t\tpush( 30 ),\n\t\t\t\tch -= 128; /* hi bit in C40 & TEXT */\n\t\t\t}\n\n\t\t\tfor( j = 1; ch > s[ j ]; j += 3 ); /* select char set */\n\n\t\t\tvar\n\t\t\tx = s[ j + 1 ]; /* shift */\n\n\t\t\t\n\t\t\tif( 8 == x || ( 9 == x && 0 == cc && i == l - 1 ) ) return []; /* char not in set or padding fails */\n\n\t\t\tif( x < 5 && cc == 2 && i == l-1) break; /* last char in ASCII */\n\t\t\tif( x < 5 ) push( x ); /* shift */\n\n\t\t\tpush( ch - s[ j + 2 ] ); /* char offset */\n\t\t}\n\n\t\tif(2 == cc && 238 !== r[ 0 ] ) { /* add pad */\n\n\t\t\t push( 0 ); \n\t\t}\n\n\t\tr.push( 254 ); /* return to ASCII */\n\t\n\t\tif( cc > 0 || i < l ) r = r.concat( toAscii( t.substr( i - cc ) ) ); /* last chars */\n\n\t\treturn r;\n\t}\n\n\t,encodeMsg = function( text, rct ) {\n\n\t\ttext = unescape( encodeURI( text ) );\n\n\t\tvar\n\t\tM = [];\n\n\t\tvar\n\t\tenc = toAscii( text ),\n\t\tel = enc.length,\n\n\t\tk = toText( text, [\t/* C40 */\n\t\t\t\t\t230,\n\t\t\t\t\t 31, 0,  0,\n\t\t\t\t\t 32, 9, 29,\n\t\t\t\t\t 47, 1, 33,\n\t\t\t\t\t 57, 9, 44,\n\t\t\t\t\t 64, 1, 43,\n\t\t\t\t\t 90, 9, 51,\n\t\t\t\t\t 95, 1, 69,\n\t\t\t\t\t127, 2, 96,\n\t\t\t\t\t255, 1,  0\n\t\t\t\t]),\n\t\tl = k.length;\n\t\tif( l > 0 && l < el ) enc = k, el = l;\n\n\n\t\tk = toText( text, [\t/* TEXT */\n\t\t\t\t\t239,\n\t\t\t\t\t 31, 0,  0,\n\t\t\t\t\t 32, 9, 29,\n\t\t\t\t\t 47, 1, 33,\n\t\t\t\t\t 57, 9, 44,\n\t\t\t\t\t 64, 1, 43,\n\t\t\t\t\t 90, 2, 64,\n\t\t\t\t\t 95, 1, 69,\n\t\t\t\t\t122, 9, 83,\n\t\t\t\t\t127, 2, 96,\n\t\t\t\t\t255, 1,  0\n\t\t\t\t]); \n\t\tl = k.length;\n\t\tif( l > 0 && l < el ) enc = k, el = l;\n\n\t\tk = toText( text, [\t/* X12*/\n\t\t\t\t\t238,\n\t\t\t\t\t 12, 8,  0,\n\t\t\t\t\t 13, 9, 13,\n\t\t\t\t\t 31, 8,  0,\n\t\t\t\t\t 32, 9, 29,\n\t\t\t\t\t 41, 8,  0,\n\t\t\t\t\t 42, 9, 41,\n\t\t\t\t\t 47, 8,  0,\n\t\t\t\t\t 57, 9, 44,\n\t\t\t\t\t 64, 8,  0,\n\t\t\t\t\t 90, 9, 51,\n\t\t\t\t\t255, 8,  0\n\t\t\t\t]); \n\t\tl = k.length;\n\t\tif( l > 0 && l < el ) enc = k, el = l;\n\n\t\tk = toEdifact( text ); l = k.length;\n\t\tif( l > 0 && l < el ) enc = k, el = l;\n\n\t\tk = toBase( text ); l = k.length;\n\t\tif( l > 0 && l < el ) enc = k, el = l;\n\n\n\t\tvar\n\t\th, w, nc = 1, nr = 1, fw, fh, /* symbol size, regions, region size */\n\t\ti, j = - 1, c, r, s, b = 1, /* compute symbol size */\n\n\t\trs = new Array(  70 ), /* reed / solomon code */\n\t\trc = new Array(  70 ),\n\t\tlg = new Array( 256 ), /* log / exp table for multiplication */\n\t\tex = new Array( 255 );\n\n\t\tif( rct && el < 50 ) { \n\n\t\t\t/* rect */\n\n\t\t\tk = [\t/* symbol width, checkwords */\n\t\t\t\t16,  7,\n\t\t\t\t28, 11,\n\t\t\t\t24, 14,\n\t\t\t\t32, 18,\n\t\t\t\t32, 24,\n\t\t\t\t44, 28\n\t\t\t];\n\n\t\t\tdo {\n\t\t\t\tw = k[ ++j ]; /* width */\n\t\t\t\th = 6 + ( j & 12 ); /* height */\n\t\t\t\tl = w * h / 8; /* bytes count in symbol */\n\n\t\t\t} while( l - k[ ++j ] < el ); /* could we fill the rect? */\n\n\t\t\t/* column regions */\n\t\t\tif( w > 25 ) nc = 2;\n\n\t\t} else { \n\n\t\t\t/* square */\n\n\t\t\tw = h = 6;\n\t\t\ti = 2; /* size increment */\n\t\t\tk = [ 5, 7, 10, 12, 14, 18, 20, 24, 28, 36, 42, 48, 56, 68, 84, 112, 144, 192, 224, 272, 336, 408, 496, 620 ]; /* rs checkwords */\n\n\t\t\tdo {\n\t\t\t\tif( ++j == k.length ) return [ 0, 0 ]; /* msg is too long */\n\n\t\t\t\tif( w > 11 * i ) i = 4 + i & 12; /* advance increment */\n\n\t\t\t\tw = h += i;\n\t\t\t\tl = ( w * h ) >> 3;\n\n\t\t\t} while( l - k[ j ] < el );\n\n\t\t\tif( w > 27 ) nr = nc = 2 * ( w / 54 | 0 ) + 2; /* regions */\n\t\t\tif( l > 255 ) b = 2 * ( l >> 9 ) + 2; /* blocks */\n\t\t}\n\n\n\t\ts = k[ j ], /* rs checkwords */\n\t\tfw = w / nc, /* region size */\n\t\tfh = h / nr;\n\n\t\t/* first padding */\n\t\tif( el < l - s ) enc[ el++ ] = 129;\n\n\t\t/* more padding */\n\t\twhile( el < l - s ) {\n\n\t\t\tenc[ el++ ] = ( ( ( 149 * el ) % 253 ) + 130 ) % 254;\n\t\t}\n\n\n\t\t/* Reed Solomon error detection and correction */\n\t\ts /= b;\n\n\t\t/* log / exp table of Galois field */\n\t\tfor( j = 1, i = 0; i < 255; i++ ) { \n\n\t\t\tex[ i ] = j,\n\t\t\tlg[ j ] = i,\n\t\t\tj += j;\n\n\t\t\tif( j > 255 ) j ^= 301; /* 301 == a^8 + a^5 + a^3 + a^2 + 1 */\n\t\t}\n\n\t\t/* RS generator polynomial */\n\t\tfor( rs[ s ] = 0, i = 1; i <= s; i++ ) \n\t\t\tfor( j = s - i, rs[ j ] = 1; j < s; j++ )\n\t\t\t\trs[ j ] = rs[ j + 1 ] ^ ex[ ( lg[ rs[ j ] ] + i ) % 255 ];\n\n\t\t/* RS correction data for each block */\n\t\tfor( c = 0; c < b; c++ ) { \n\t\t\tfor( i = 0; i <= s; i++ ) rc[ i ] = 0;\n\t\t\tfor( i = c; i < el; i += b )\n\t\t\t\tfor( j = 0, x = rc[ 0 ] ^ enc[ i ]; j < s; j++ )\n\t\t\t\t\trc[ j ] = rc[ j + 1 ] ^ ( x ? ex[ ( lg[ rs[ j ] ] + lg[ x ] ) % 255 ] : 0 );\n\n\t\t\t/* interleaved correction data */\n\t\t\tfor( i = 0; i < s; i++ ) \n\t\t\t\tenc[ el + c + i * b ] = rc[ i ];\n\t\t}\n\n\t\t/* layout perimeter finder pattern */\n\t\t/* horizontal */\n\t\tfor( i = 0; i < h + 2 * nr; i += fh + 2 )\n\t\t\tfor( j = 0; j < w + 2 * nc; j++ ) {\n\t\t\t\tbit( j, i + fh + 1 );\n\t\t\t\tif( ( j & 1 ) == 0 ) bit( j, i );\n\t\t\t}\n\n\t\t/* vertical */\n\t\tfor( i = 0; i < w + 2 * nc; i += fw + 2 )\n\t\t\tfor( j = 0; j < h; j++ ) {\n\t \t\t\tbit( i, j + ( j / fh | 0 ) * 2 + 1 );\n\t\t\t\tif( ( j & 1 ) == 1 ) bit( i + fw + 1, j + ( j / fh | 0 ) * 2 );\n\t\t\t}\n\n\t\ts = 2, /* step */\n\t\tc = 0, /* column */\n\t\tr = 4, /* row */\n\t\tb = [ /* nominal byte layout */\n\t\t\t 0,  0,\n\t\t\t-1,  0,\n\t\t\t-2,  0,\n\t\t\t 0, -1,\n\t\t\t-1, -1,\n\t\t\t-2, -1,\n\t\t\t-1, -2,\n\t\t\t-2, -2\n\t\t];\n\n\t\t/* diagonal steps */\n\t\tfor( i = 0; i < l; r -= s, c += s ) { \n\n\t\t\tif( r == h - 3 && c == - 1 )\n\n\t\t\t\tk = [ /* corner A layout */\n\t\t\t\t\t    w, 6 - h,\n\t\t\t\t\t    w, 5 - h,\n\t\t\t\t\t    w, 4 - h,\n\t\t\t\t\t    w, 3 - h,\n\t\t\t\t\tw - 1, 3 - h,\n\t\t\t\t\t    3,     2,\n\t\t\t\t\t    2,     2,\n\t\t\t\t\t    1,     2\n\t\t\t\t];\n\n\t\t\telse if( r == h + 1 && c == 1 && ( w & 7 ) == 0 && ( h & 7 ) == 6 )\n\n\t\t\t\tk = [ /* corner D layout */\n\t\t\t\t\tw - 2,     -h,\n\t\t\t\t\tw - 3,     -h,\n\t\t\t\t\tw - 4,     -h,\n\t\t\t\t\tw - 2, -1 - h,\n\t\t\t\t\tw - 3, -1 - h,\n\t\t\t\t\tw - 4, -1 - h,\n\t\t\t\t\tw - 2, -2,\n\t\t\t\t\t   -1,     -2\n\t\t\t\t];\n\t\t\telse {\n\t\t\t\tif( r == 0 && c == w - 2 && ( w & 3 ) ) continue; /* corner B: omit upper left */\n\t\t\t\tif( r < 0 || c >= w || r >= h || c < 0 ) { /* outside */\n\n\t\t\t\t\ts  = -s, /* turn around */\n\t\t\t\t\tr += 2 + s / 2,\n\t\t\t\t\tc += 2 - s / 2;\n\n\t\t\t\t\twhile( r < 0 || c >= w || r >= h || c < 0 ) {\n\n\t\t\t\t\t\tr -= s,\n\t\t\t\t\t\tc += s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif( r == h - 2 && c == 0 && ( w & 3 ) )\n\n\t\t\t\t\tk = [ /* corner B layout */\n\t\t\t\t\t\tw - 1, 3 - h,\n\t\t\t\t\t\tw - 1, 2 - h,\n\t\t\t\t\t\tw - 2, 2 - h,\n\t\t\t\t\t\tw - 3, 2 - h,\n\t\t\t\t\t\tw - 4, 2 - h,\n\t\t\t\t\t\t    0,     1,\n\t\t\t\t\t\t    0,     0,\n\t\t\t\t\t\t    0,    -1\n\t\t\t\t\t];\n\n\t\t\t\telse if( r == h - 2 && c == 0 && ( w & 7 ) == 4 )\n\n\t\t\t\t\tk = [ /* corner C layout */\n\t\t\t\t\t\tw - 1, 5 - h,\n\t\t\t\t\t\tw - 1, 4 - h,\n\t\t\t\t\t\tw - 1, 3 - h,\n\t\t\t\t\t\tw - 1, 2 - h,\n\t\t\t\t\t\tw - 2, 2 - h,\n\t\t\t\t\t\t    0,     1,\n\t\t\t\t\t\t    0,     0,\n\t\t\t\t\t\t    0,    -1\n\t\t\t\t\t];\n\n\t\t\t\telse if( r == 1 && c == w - 1 && ( w & 7 ) == 0 && ( h & 7 ) == 6 ) continue; /* omit corner D */\n\t\t\t\telse k = b; /* nominal L - shape layout */\n\t\t\t}\n\n \t\t\t/* layout each bit */\n\t\t\tfor( el = enc[ i++ ], j = 0; el > 0; j += 2, el >>= 1 ) {\n\n\t\t\t\tif( el & 1 ) {\n\n\t\t\t\t\tvar\n\t\t\t\t\tx = c + k[ j ],\n\t\t\t\t\ty = r + k[ j + 1 ];\n\n \t\t\t\t\t/* wrap around */\n\t\t\t\t\tif( x < 0 ) x += w, y += 4 - ( ( w + 4 ) & 7 );\n\t\t\t\t\tif( y < 0 ) y += h, x += 4 - ( ( h + 4 ) & 7 );\n\n\t\t\t\t\t/* region gap */\n\t\t\t\t\tbit( x + 2 * ( x / fw | 0 ) + 1, y + 2 * ( y / fh | 0 ) + 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\n\t\t/* unfilled corner */\n\t\tfor( i = w; i & 3; i-- ) {\n\n\t\t\tbit( i, i ); \n\t\t}\n\n\t\txx = w + 2 * nc,\n\t\tyy = h + 2 * nr;\n\t}\n\n\treturn ( function() {\n\n\t\tfunction ishex( c ) {\n\n\t\t\treturn /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test( c );\n\t\t}\n\n\t\tfunction svg( n, a ) {\n\n\t\t\tn = document.createElementNS( ns, n );\n\n\t\t\tfor( var o in a || {} ) {\n\n\t\t\t\tn.setAttribute( o, a[ o ] );\n\t\t\t}\n\n\t\t\treturn n;\n\t\t}\n\n\t\tvar\n\t\t abs = Math.abs,\n\t\tr, x, y, d, sx, sy,\n\n\t\t  ns = 'http://www.w3.org/2000/svg',\n\t\tpath = '',\n\n\t\t   q = ('string' == typeof Q ) ? { msg: Q } : Q || {},\n\t\t   p = q.pal || ['#000'],\n\t\t  dm = abs( q.dim ) || 256,\n\t\t  pd = abs( q.pad ), pd = ( pd > -1 ) ? pd : 2,\n\t\t  mx = [ 1, 0, 0, 1, pd, pd ],\n\n\t\t  fg = p[ 0 ], fg = ishex( fg ) ? fg : '#000',\n\t\t  bg = p[ 1 ], bg = ishex( bg ) ? bg :  0,\n\n\t\t/* render optimized or verbose svg */\n\t\toptimized = ( q.vrb ) ? 0 : 1;\n\n\t\tencodeMsg( q.msg || '', q.rct );\n\n\t\tsx = xx + pd * 2,\n\t\tsy = yy + pd * 2;\n\n\t\ty = yy;\n\n\t\twhile( y-- ) {\n\n\t\t\td = 0, x = xx;\n\n\t\t\twhile( x-- ) {\n\n\t\t\t\tif( M[ y ][ x ] ) {\n\n\t\t\t\t\tif( optimized ) {\n\n\t\t\t\t\t\td++;\n\n\t\t\t\t\t\tif( !M[ y ][ x - 1 ] )\n\n\t\t\t\t\t\t\tpath += 'M' + x + ',' + y + 'h' + d +'v1h-' + d + 'v-1z', d = 0;\n\n\t\t\t\t\t} else path += 'M' + x + ',' + y + 'h1v1h-1v-1z';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tr = svg('svg', {\n\n\t\t\t\t\t 'viewBox'\t\t: [ 0, 0, sx, sy ].join(' ')\n\t\t\t\t\t,'width'\t\t:  dm / sy * sx | 0\n\t\t\t\t\t,'height'\t\t:  dm\n\t\t\t\t\t,'fill'\t\t\t:  fg\n\t\t\t\t\t,'shape-rendering'\t: 'crispEdges'\n\t\t\t\t\t,'xmlns'\t\t:  ns \n\t\t\t\t\t,'version'\t\t: '1.1'\n\t\t\t\t} );\n\n\t\tif( bg ) r.appendChild( svg('path', {\n\n\t\t\t\t\t 'fill'\t\t\t:  bg\n\t\t\t\t\t,'d'\t\t\t: 'M0,0v' + sy + 'h' + sx + 'V0H0Z'\n\t\t\t\t} ) );\n\n\t\tr.appendChild( svg('path', {\n\n\t\t\t\t\t 'transform'\t\t: 'matrix(' + mx + ')'\n\t\t\t\t\t,'d'\t\t\t:  path\n\t\t\t\t} ) );\n\n\t\treturn r;\n\n\t} )();\n}\n\nexport {DATAMatrix}","import { find_element, first_caller_delay_callback, is_device_mobile } from \"./../qr/qr_utils\";\nimport { DATAMatrix } from \"../../js/libs/datamatrix\";\n\nimport \"./../../styles/less/libs/modal_qr_preview.less\";\n\n/*\n    !!! стили подгружаются автоматически\n   компонент, позволяет создавать динамическое окошко которое будет перемещатся за курсором\n   и в нутри будет рендерится qr код, в нем будет закодировоно сообщение которое мы также указываем.\n   Окно может быть и статическим.\n\n   установка:\n    1. в html кудато добавить такую структуру\n\n        <div class=\"js-modal_qr_preview\">\n            <div class=\"js-modal_qr_preview__render_vieport\"></div>\n        </div>\n\n    2. подключить этот скрипт и создать экземпляр класса QrPreviewer\n        Настройки при создании экземпляра указаны в api\n\n    3. вызвать метод init у экземпляра.\n\n   \n   API\n        constructor() - принимает обьект с настройками\n            is_dynamic              - true\\false - будетли окно динамическим ? иначе будет статическим\n                                      (тоесть не будет перемещатся за курсором)\n            data_block_calssName    - только если is_dynamic:true  - определяет класс блока, при наведении\n                                       на который курсором, с него будет считыватся textContent и это будет кодироватся в qr код\n            render_setting_padding  - внутренний отступ внутри вьюпорта создаваемый на этапе рендеринга\n            render_setting_size     - размер px квадрата в котором будет рендерится qr код\n\n        qr_renderer(string)         - позволяет в ручную передать строку которую нужно закодировать\n                                      Сразуже вызывает рендер qr кода \n\n*/\n\ntype Enumerate<N extends number, Acc extends number[] = []> = Acc[\"length\"] extends N ? Acc[number] : Enumerate<N, [...Acc, Acc[\"length\"]]>;\ntype IntRange<F extends number, T extends number> = Exclude<Enumerate<T>, Enumerate<F>>;\n\ninterface IConstructorInput {\n    is_dynamic?: boolean;\n    data_block_calssName?: string;\n    render_setting_padding?: IntRange<0, 11>;\n    render_setting_size?: number;\n}\n\ntype TInstanceQrPreviewer = InstanceType<typeof QrPreviewer>;\n\nclass QrPreviewer {\n    private _modal_block: HTMLElement; // блок с отображаемым qr кодом\n    private _modal_block_vieport: HTMLElement; // внутренний блок, в котором код будет рендерится\n    private _is_cutsor_in: boolean = false; // находится-ли курсор над text_in_file__qr_item\n    private _mouse_pos_x: number = 0; // храним координаты положения мышки\n    private _mouse_pos_y: number = 0;\n    private _dynamic: boolean = false;\n    private _data_block_calssName: string;\n    private _is_inited: boolean = false;\n    private _qr_setting_padding: IntRange<0, 11>;\n    private _qr_setting_size: number;\n    private _FLOAT_OFFSET = 20; // % на который нужно смещать модалку от курсора (для динамического режима)\n\n    constructor({\n        is_dynamic = false,\n        data_block_calssName = \"js-modal_qr_preview--undefined\",\n        render_setting_padding = 0,\n        render_setting_size = 100,\n    }: IConstructorInput = {}) {\n        this._modal_block = find_element<HTMLElement>(\"js-modal_qr_preview\");\n        this._modal_block_vieport = find_element<HTMLElement>(\"js-modal_qr_preview__render_vieport\", this._modal_block);\n        this._dynamic = is_dynamic;\n        this._data_block_calssName = data_block_calssName;\n        this._qr_setting_padding = render_setting_padding;\n        this._qr_setting_size = render_setting_size;\n    }\n\n    public init() {\n        if (this._is_inited) return; // ограничитель на одну инициализацию\n\n        this._is_inited = true;\n\n        if (!this._dynamic) {\n            this._modal_block.classList.add(\"js-modal_qr_preview--static\");\n            this._modal_block.classList.add(\"js-modal_qr_preview--open\");\n        } else {\n            this._modal_block.classList.add(\"js-modal_qr_preview--dynamic\");\n            document.body.addEventListener(\"mousemove\", this._dynamic_modal_update.bind(this));\n            document.body.addEventListener(\"mouseout\", this._dynamic_modal_update.bind(this));\n            window.addEventListener(\"scroll\", this._dynamic_modal_update.bind(this));\n        }\n    }\n\n    public qr_renderer(value: string) {\n        if (!this._is_inited) return;\n\n        this._qr_render_update(value);\n    }\n\n    public get_dom_element(): HTMLElement {\n        return this._modal_block;\n    }\n\n    private _dynamic_open_delay_dec = first_caller_delay_callback(this._dynamic_open.bind(this), () => {}, 1000); // пониженный абдейт для открытия молального окна\n    private _qr_render_update_delay_dec = first_caller_delay_callback(this._qr_render_update.bind(this), () => {}, 100); // пониженный абдейт для рендера qr кода\n\n    private _dynamic_modal_update(e: MouseEvent | Event) {\n        if (is_device_mobile()) {\n            this._is_cutsor_in = false;\n            this._dynamic_hide();\n            return;\n        }\n\n        if (e instanceof MouseEvent) {\n            this._mouse_pos_x = e.clientX;\n            this._mouse_pos_y = e.clientY;\n        }\n\n        const hover_element = document.elementFromPoint(this._mouse_pos_x, this._mouse_pos_y);\n\n        if (!hover_element) {\n            this._is_cutsor_in = false;\n            this._dynamic_hide();\n            return;\n        }\n\n        if (hover_element.closest(`.${this._data_block_calssName}`)) {\n            this._is_cutsor_in = true;\n            this._dynamic_open_delay_dec();\n            this._modal_pos_update();\n            this._qr_render_update_delay_dec(hover_element.textContent ?? \"\");\n        } else {\n            this._is_cutsor_in = false;\n            this._dynamic_hide();\n        }\n    }\n\n    private _modal_pos_update() {\n        const scroll_bar_width = 10;\n        const X_OFFSET = (this._modal_block.offsetWidth / 100) * this._FLOAT_OFFSET; // смещения модалки от курсора\n        const Y_OFFSET = -((this._modal_block.offsetHeight / 100) * this._FLOAT_OFFSET);\n        const win_h = window.innerHeight;\n        const win_w = window.innerWidth;\n\n        if (this._mouse_pos_x + this._modal_block.offsetWidth + X_OFFSET + scroll_bar_width < win_w && this._mouse_pos_x + X_OFFSET > 0) {\n            // отображение правее курсора\n            this._modal_block.style.left = `${this._mouse_pos_x + X_OFFSET}px`;\n        } else if (\n            this._mouse_pos_x + this._modal_block.offsetWidth + X_OFFSET > win_w &&\n            this._mouse_pos_x - X_OFFSET - this._modal_block.offsetWidth > 0\n        ) {\n            // отображение левее курсора\n            this._modal_block.style.left = `${this._mouse_pos_x - X_OFFSET - this._modal_block.offsetWidth}px`;\n        } else {\n            // отображение отображение посередине курсора\n            // this._modal_block.style.left = `${this._mouse_pos_x - this._modal_block.offsetWidth / 2}px`;\n        }\n\n        if (this._mouse_pos_y + this._modal_block.offsetHeight - Y_OFFSET < win_h) {\n            // отображение ниже курсора\n            this._modal_block.style.top = `${this._mouse_pos_y - Y_OFFSET}px`;\n        } else {\n            // отображение выше курсора\n            this._modal_block.style.top = `${this._mouse_pos_y - this._modal_block.offsetHeight + Y_OFFSET}px`;\n        }\n    }\n\n    private _qr_render_update(encode_message: string) {\n        let svgNode = DATAMatrix({\n            msg: encode_message,\n            dim: this._qr_setting_size,\n            rct: 0,\n            pad: this._qr_setting_padding,\n            pal: [\"#000000\", \"#f2f4f8\"],\n            vrb: 0,\n        });\n        this._modal_block_vieport.replaceChildren(svgNode);\n    }\n\n    private _dynamic_open() {\n        if (this._is_cutsor_in) {\n            this._modal_block.classList.add(\"js-modal_qr_preview--open\");\n            setTimeout(this._modal_pos_update.bind(this));\n        }\n    }\n\n    private _dynamic_hide() {\n        this._modal_block.classList.remove(\"js-modal_qr_preview--open\");\n        this._modal_block_vieport.replaceChildren();\n    }\n}\n\nexport { QrPreviewer };\nexport type { TInstanceQrPreviewer };\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["DATAMatrix","Q","M","xx","yy","bit","x","y","toAscii","t","r","l","length","i","c","charCodeAt","c1","push","toBase","toEdifact","n","cw","ch","concat","substr","toText","s","j","cc","v","encodeMsg","text","rct","unescape","encodeURI","enc","el","k","h","w","nc","nr","fw","fh","b","rs","Array","rc","lg","ex","ishex","test","svg","a","document","createElementNS","ns","o","setAttribute","abs","Math","d","sx","sy","path","q","msg","p","pal","dm","dim","pd","pad","mx","fg","bg","optimized","vrb","join","appendChild","find_element","first_caller_delay_callback","is_device_mobile","_a","_b","_c","is_dynamic","_d","data_block_calssName","_e","render_setting_padding","_f","render_setting_size","_dynamic_open","bind","_qr_render_update","_modal_block","_modal_block_vieport","_dynamic","_data_block_calssName","_qr_setting_padding","_qr_setting_size","QrPreviewer","_is_inited","classList","add","body","addEventListener","_dynamic_modal_update","window","value","e","_is_cutsor_in","_dynamic_hide","MouseEvent","_mouse_pos_x","clientX","_mouse_pos_y","clientY","hover_element","elementFromPoint","closest","_dynamic_open_delay_dec","_modal_pos_update","_qr_render_update_delay_dec","textContent","scroll_bar_width","X_OFFSET","offsetWidth","_FLOAT_OFFSET","Y_OFFSET","offsetHeight","win_h","innerHeight","win_w","innerWidth","style","left","top","encode_message","svgNode","replaceChildren","setTimeout","remove"],"sourceRoot":""}